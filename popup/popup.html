<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GeoFill</title>
  <link rel="stylesheet" href="popup.css">
</head>

<body>
  <div class="container">
    <header class="header">
      <h1>🌍 GeoFill</h1>
      <div class="header-actions">
        <button class="history-btn" id="openHistory" title="历史记录">📜</button>
        <button class="settings-btn" id="openSettings" title="设置">⚙️</button>
        <button class="theme-toggle" id="themeToggle" title="切换主题">🌙</button>
      </div>
      <div class="ip-info-wrapper">
        <div class="ip-info" id="ipInfo">
          <span class="loading">获取位置中...</span>
        </div>
        <button class="ip-refresh-btn" id="ipRefresh" title="重新检测 IP">🔄</button>
      </div>
    </header>

    <section class="form-section">
      <div class="field-group">
        <label for="firstName">名</label>
        <div class="input-wrapper">
          <input type="text" id="firstName" placeholder="First Name">
          <button class="lock-btn" data-field="firstName" title="锁定/解锁">🔓</button>
          <button class="copy-btn" data-field="firstName" title="复制">📋</button>
          <button class="refresh-btn" data-field="firstName" title="重新生成">🔄</button>
        </div>
      </div>

      <div class="field-group">
        <label for="lastName">姓</label>
        <div class="input-wrapper">
          <input type="text" id="lastName" placeholder="Last Name">
          <button class="lock-btn" data-field="lastName" title="锁定/解锁">🔓</button>
          <button class="copy-btn" data-field="lastName" title="复制">📋</button>
          <button class="refresh-btn" data-field="lastName" title="重新生成">🔄</button>
        </div>
      </div>

      <div class="field-group">
        <label for="gender">性别</label>
        <div class="input-wrapper">
          <select id="gender">
            <option value="male">👨 男 (Male)</option>
            <option value="female">👩 女 (Female)</option>
          </select>
          <button class="lock-btn" data-field="gender" title="锁定/解锁">🔓</button>
          <button class="refresh-btn" data-field="gender" title="重新生成">🔄</button>
        </div>
      </div>

      <div class="field-group">
        <label for="birthday">生日</label>
        <div class="input-wrapper">
          <input type="text" id="birthday" placeholder="1990-01-01">
          <button class="lock-btn" data-field="birthday" title="锁定/解锁">🔓</button>
          <button class="copy-btn" data-field="birthday" title="复制">📋</button>
          <button class="refresh-btn" data-field="birthday" title="重新生成">🔄</button>
        </div>
      </div>

      <div class="field-group">
        <label for="username">用户名</label>
        <div class="input-wrapper">
          <input type="text" id="username" placeholder="Username">
          <button class="lock-btn" data-field="username" title="锁定/解锁">🔓</button>
          <button class="copy-btn" data-field="username" title="复制">📋</button>
          <button class="refresh-btn" data-field="username" title="重新生成">🔄</button>
        </div>
      </div>

      <div class="field-group">
        <label for="email">邮箱</label>
        <div class="input-wrapper">
          <input type="text" id="email" placeholder="Email">
          <button class="lock-btn" data-field="email" title="锁定/解锁">🔓</button>
          <button class="copy-btn" data-field="email" title="复制">📋</button>
          <button class="refresh-btn" data-field="email" title="重新生成">🔄</button>
        </div>
      </div>

      <div class="field-group">
        <label for="emailDomainType">后缀</label>
        <div class="input-wrapper email-domain-wrapper">
          <select id="emailDomainType">
            <option value="gmail.com">gmail.com</option>
            <option value="outlook.com">outlook.com</option>
            <option value="yahoo.com">yahoo.com</option>
            <option value="hotmail.com">hotmail.com</option>
            <option value="icloud.com">icloud.com</option>
            <option value="protonmail.com">protonmail.com</option>
            <option value="temp">📧 临时邮箱 (Mail.tm)</option>
            <option value="custom">✏️ 自定义</option>
          </select>
          <input type="text" id="customDomain" placeholder="example.com" style="display: none;">
        </div>
      </div>

      <!-- 临时邮箱收件箱 -->
      <div class="field-group inbox-group" id="inboxGroup" style="display: none;">
        <div class="inbox-header">
          <label>📩 收件箱</label>
          <button class="btn btn-small" id="refreshInbox" title="刷新邮件">🔄</button>
        </div>
        <div class="inbox-list" id="inboxList">
          <div class="inbox-empty">暂无邮件</div>
        </div>
      </div>

      <div class="field-group">
        <label for="password">密码</label>
        <div class="input-wrapper">
          <input type="text" id="password" placeholder="Password">
          <button class="lock-btn" data-field="password" title="锁定/解锁">🔓</button>
          <button class="copy-btn" data-field="password" title="复制">📋</button>
          <button class="refresh-btn" data-field="password" title="重新生成">🔄</button>
        </div>
      </div>

      <div class="field-group">
        <label for="phone">电话</label>
        <div class="input-wrapper">
          <input type="text" id="phone" placeholder="Phone">
          <button class="lock-btn" data-field="phone" title="锁定/解锁">🔓</button>
          <button class="copy-btn" data-field="phone" title="复制">📋</button>
          <button class="refresh-btn" data-field="phone" title="重新生成">🔄</button>
        </div>
      </div>

      <div class="field-group">
        <label for="address">地址</label>
        <div class="input-wrapper">
          <input type="text" id="address" placeholder="Address">
          <button class="lock-btn" data-field="address" title="锁定/解锁">🔓</button>
          <button class="copy-btn" data-field="address" title="复制">📋</button>
          <button class="refresh-btn" data-field="address" title="重新生成">🔄</button>
        </div>
      </div>

      <div class="field-group">
        <label for="city">城市</label>
        <div class="input-wrapper">
          <input type="text" id="city" placeholder="City">
          <button class="lock-btn" data-field="city" title="锁定/解锁">🔓</button>
          <button class="copy-btn" data-field="city" title="复制">📋</button>
          <button class="refresh-btn" data-field="city" title="重新生成">🔄</button>
        </div>
      </div>

      <div class="field-group">
        <label for="state">州/省</label>
        <div class="input-wrapper">
          <input type="text" id="state" placeholder="State">
          <button class="lock-btn" data-field="state" title="锁定/解锁">🔓</button>
          <button class="copy-btn" data-field="state" title="复制">📋</button>
          <button class="refresh-btn" data-field="state" title="重新生成">🔄</button>
        </div>
      </div>

      <div class="field-group">
        <label for="zipCode">邮编</label>
        <div class="input-wrapper">
          <input type="text" id="zipCode" placeholder="Zip Code">
          <button class="lock-btn" data-field="zipCode" title="锁定/解锁">🔓</button>
          <button class="copy-btn" data-field="zipCode" title="复制">📋</button>
          <button class="refresh-btn" data-field="zipCode" title="重新生成">🔄</button>
        </div>
      </div>

      <div class="field-group">
        <label for="country">国家</label>
        <div class="input-wrapper">
          <select id="country">
            <option value="United States">🇺🇸 United States</option>
            <option value="United Kingdom">🇬🇧 United Kingdom</option>
            <option value="Canada">🇨🇦 Canada</option>
            <option value="Australia">🇦🇺 Australia</option>
            <option value="China">🇨🇳 China</option>
            <option value="Japan">🇯🇵 Japan</option>
            <option value="South Korea">🇰🇷 South Korea</option>
            <option value="Germany">🇩🇪 Germany</option>
            <option value="France">🇫🇷 France</option>
            <option value="Russia">🇷🇺 Russia</option>
            <option value="Spain">🇪🇸 Spain</option>
            <option value="Italy">🇮🇹 Italy</option>
            <option value="Brazil">🇧🇷 Brazil</option>
            <option value="India">🇮🇳 India</option>
            <option value="Singapore">🇸🇬 Singapore</option>
            <option value="Taiwan">🇹🇼 Taiwan</option>
            <option value="Hong Kong">🇭🇰 Hong Kong</option>
            <option value="Mexico">🇲🇽 Mexico</option>
            <option value="Netherlands">🇳🇱 Netherlands</option>
          </select>
        </div>
      </div>
    </section>


    <footer class="actions">
      <button class="btn btn-icon" id="copyAll" title="复制全部">📋</button>
      <button class="btn btn-secondary" id="regenerateAll">🔄 重新生成</button>
      <button class="btn btn-primary" id="fillForm">✍️ 填写表单</button>
    </footer>
  </div>

  <!-- 设置模态框 -->
  <div class="modal-overlay" id="settingsModal">
    <div class="modal">
      <div class="modal-header">
        <h2>⚙️ 设置</h2>
        <button class="modal-close" id="closeSettings">×</button>
      </div>
      <div class="modal-body">
        <!-- 密码设置 -->
        <div class="settings-section">
          <h3>🔐 密码生成</h3>
          <div class="setting-row">
            <label for="passwordLength">长度</label>
            <input type="number" id="passwordLength" min="8" max="32" value="12">
          </div>
          <div class="setting-row">
            <label>复杂度</label>
            <div class="checkbox-group">
              <label><input type="checkbox" id="pwdUppercase" checked> 大写</label>
              <label><input type="checkbox" id="pwdLowercase" checked> 小写</label>
              <label><input type="checkbox" id="pwdNumbers" checked> 数字</label>
              <label><input type="checkbox" id="pwdSymbols" checked> 符号</label>
            </div>
          </div>
        </div>

        <!-- 年龄设置 -->
        <div class="settings-section">
          <h3>🎂 生日年龄范围</h3>
          <div class="setting-row">
            <label for="minAge">最小年龄</label>
            <input type="number" id="minAge" min="1" max="100" value="18">
          </div>
          <div class="setting-row">
            <label for="maxAge">最大年龄</label>
            <input type="number" id="maxAge" min="1" max="100" value="55">
          </div>
        </div>

        <!-- 隐私设置 -->
        <div class="settings-section">
          <h3>🔒 隐私</h3>
          <div class="setting-row">
            <label for="autoClearData">关闭浏览器后清除数据</label>
            <input type="checkbox" id="autoClearData">
          </div>
        </div>

        <!-- AI 设置 -->
        <div class="settings-section">
          <h3>🤖 AI 设置</h3>
          <div class="setting-row">
            <label for="enableAI">启用 AI 生成</label>
            <input type="checkbox" id="enableAI">
          </div>
          <div class="setting-row">
            <label for="openaiBaseUrl" style="width: auto;">API 地址</label>
            <input type="text" id="openaiBaseUrl" placeholder="https://api.openai.com/v1"
              style="flex: 1; margin-left: 10px;">
          </div>
          <div class="setting-row">
            <label for="openaiKey" style="width: auto;">API Key</label>
            <div style="flex: 1; display: flex; gap: 6px; margin-left: 10px;">
              <input type="password" id="openaiKey" placeholder="sk-..." style="flex: 1;">
              <button class="btn-small" id="testAI" title="测试连接" style="width: auto; padding: 0 8px;">📡 测试</button>
            </div>
          </div>
          <div class="setting-row">
            <label for="openaiModel" style="width: auto;">模型</label>
            <input type="text" id="openaiModel" placeholder="gpt-3.5-turbo" value="gpt-3.5-turbo"
              style="flex: 1; margin-left: 10px;">
          </div>
          <div class="setting-row" style="align-items: flex-start;">
            <label for="aiPersona" style="width: auto; margin-top: 6px;">人设</label>
            <textarea id="aiPersona" placeholder="例如：一名30岁的日本软件工程师，喜欢摄影，住在东京..."
              style="flex: 1; margin-left: 10px; height: 60px; resize: vertical;" class="input-full"></textarea>
          </div>
        </div>

        <!-- 存档管理 -->
        <div class="settings-section">
          <h3>💾 配置存档</h3>
          <div class="archive-controls">
            <input type="text" id="archiveName" placeholder="存档名称">
            <button class="btn btn-small" id="saveArchive">保存</button>
          </div>
          <div class="archive-list" id="archiveList">
            <!-- 动态生成存档列表 -->
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 历史记录模态框 -->
  <div class="modal-overlay" id="historyModal">
    <div class="modal">
      <div class="modal-header">
        <h2>📜 历史记录</h2>
        <button class="modal-close" id="closeHistory">×</button>
      </div>
      <div class="modal-body">
        <div class="history-info">最近使用的 10 组数据</div>
        <div class="history-list" id="historyList">
          <div class="history-empty">暂无历史记录</div>
        </div>
        <div class="history-actions">
          <button class="btn btn-small btn-danger" id="clearHistory">🗑️ 清空历史</button>
        </div>
      </div>
    </div>
  </div>

  <div class="toast" id="toast"></div>

  <script src="../scripts/generators.js"></script>

  <script src="../scripts/japan-generators.js"></script>
  <script src="popup.js"></script>
</body>

</html>